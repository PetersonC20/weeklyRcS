<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz — Professor</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body class="theme">
<script>
  (function(){
    const pass = prompt("Digite a senha para acessar a área do professor:");
    if(pass !== "09876"){
      document.body.innerHTML = "<h1 style='text-align:center;margin-top:50px;color:red'>Acesso negado</h1>";
      throw new Error("Senha incorreta");
    }
  })();
</script>

  <header class="topbar">
    <div>
      <h1>Apresentador</h1>
      <p class="subtitle">Gerencie perguntas e inicie a transmissão dos slides.</p>
    </div>
    <nav class="toolbar">
      <button id="openHost" class="btn primary">Abrir Slides</button>
      <button id="startGame" class="btn">Iniciar Jogo</button>
      <span class="badge">Atalhos: <span class="kbd">Espaço</span> próxima • <span class="kbd">Enter</span> revelar • <span class="kbd">Ctrl</span> voltar • <span class="kbd">Esc</span> sair</span>
    </nav>
  </header>

  <main class="container">
    <section class="card">
      <h2>Banco de Perguntas</h2>
      <div class="row cols-2">
        <div>
          <label class="label">Pergunta</label>
          <textarea id="qText" class="input" rows="3" placeholder="Digite a pergunta"></textarea>
        </div>
        <div class="row">
          <label class="label">Resposta Correta (A-D)</label>
          <select id="qCorrect">
            <option value="0">A</option>
            <option value="1">B</option>
            <option value="2">C</option>
            <option value="3">D</option>
          </select>
        </div>
      </div>
      <div class="row cols-2" style="margin-top:8px">
        <input id="optA" class="input" placeholder="Alternativa A"/>
        <input id="optB" class="input" placeholder="Alternativa B"/>
        <input id="optC" class="input" placeholder="Alternativa C"/>
        <input id="optD" class="input" placeholder="Alternativa D"/>
      </div>
      <div style="margin-top:10px">
        <button id="addQ" class="btn">Adicionar Pergunta</button>
        <button id="clearAll" class="btn">Limpar Tudo</button>
        <span class="badge" id="countBadge">0 perguntas</span>
      </div>

      <table class="table" id="qTable">
        <thead><tr><th>#</th><th>Pergunta</th><th>A</th><th>B</th><th>C</th><th>D</th><th>Correta</th><th></th></tr></thead>
        <tbody></tbody>
      </table>
    </section>

    <section class="card">
      <h2>Transmissão</h2>
      <p>Abra os slides e compartilhe a janela do <strong>host</strong> com os participantes. O jogo sincroniza via <code>BroadcastChannel</code> entre abas.</p>
      <div class="lobby">
        <h3>Lobby (participantes conectados)</h3>
        <div class="list" id="lobbyList"></div>
      </div>
    </section>
  </main>

  <script src="js/core.js"></script>
  <script src="js/teacher.js"></script>
</body>
</html>
